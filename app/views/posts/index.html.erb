<h2>予定一覧</h2>
<%= link_to "新規追加", "/posts/new" %>

<% if flash[:success] %>
<p class="success"><%= flash[:success] %></p>
<% end %>

<% if flash[:notice] %>
<p class="notice"><%= flash[:notice] %></p>
<% end %>

<% if flash[:failure] %>
<p class="failure"><%= flash[:failure] %></p>
<% end %>





<div class="table-responsive TableResponsive">
  <table class="table Table">
    <thead>
      <tr>
        <th>ID</th>
        <th>タイトル</th>
        <th>開始日</th>
        <th>終了日</th>
        <th>終日</th>
        <th>更新日時</th>
        <th>メモ</th>
        <th>詳細</th>
        <th>編集</th>
        <th>削除</th>
      </tr>
    </thead>

    <tbody>
      <% @posts.each do |post| %>
          <tr>
            <td><%= post.id %></td>
            <td><%= post.title %></td>
            <td><%= post.start_at.strftime("%Y/%m/%d") %></td>
            <td><%= post.end_at.strftime("%Y/%m/%d") %></td>
            <td>
            <% if post.allday == '1' %>
            ○
            <% else post.allday == '0' %>
            <% end %>
            </td>
            <td><%= post.updated_at.to_s(:datetime_jp) %></td>
            <td><%= post.memo %></td>
            <td><%= link_to "詳細", post %></td>
            <td><%= link_to "編集", [:edit, post] %></td>
            <td><%= button_to "削除", post, method: :delete, data: { turbo_confirm: "本当に削除しますか？" } %></td>
            </tr>
          <% end %>
    </tbody>
  </table>
</div>

<footer class="card Footer">
  <div class="card-body FooterBody">
    <p class="FooterBody__count">
      予定合計<span><%= Post.count %></span>件
    </p>

    <p class="FooterBody__datetime">
      本日の日付<%= Date.today %>
    </p>
  </div>
</footer>